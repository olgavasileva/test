-id||=''
-base_class||=''
-distro||=:upload_first
-upload_class='col-xs-6'
-arrows_class='col-xs-3 image-nav-control'
-if(distro==:upload_piramid)
  -upload_class='col-xs-12 form-group'
  -arrows_class='col-xs-6 image-nav-control'
.image_control.row{:id=>"#{id}",:class=>"#{base_class} #{distro}"}
  <Image manipulation tools>
  -if(distro==:upload_piramid || distro==:upload_first)
    %button.question-image-uploader.transparent.upload-trigger{:class=>"#{upload_class}",:type=>:button,:data=>{:image=>{:type=>type}}}
      %span.glyphicon.glyphicon-camera
      %span.glyphicon.glyphicon-refresh
      %input{:type=>'file',:data=>{:image=>{:type=>type}}}
  =link_to '#', class:[:prev_image,"#{arrows_class}"] do
    %span.glyphicon.glyphicon-chevron-left
  -if(distro==:upload_middle)
    %button.question-image-uploader.transparent.upload-trigger.centered{:class=>"#{upload_class}",:type=>:button,:data=>{:image=>{:type=>type}}}
      %span.glyphicon.glyphicon-camera
      %span.glyphicon.glyphicon-refresh
      %input{:type=>'file',:data=>{:image=>{:type=>type}}}
  =link_to '#', class:[:next_image,"#{arrows_class}"] do
    %span.glyphicon.glyphicon-chevron-right
  -if(distro==:upload_last)
    %button.question-image-uploader.transparent.upload-trigger{:class=>"#{upload_class}",:type=>:button,:data=>{:image=>{:type=>type}}}
      %span.glyphicon.glyphicon-camera
      %span.glyphicon.glyphicon-refresh

  :javascript
    if(!window.tcHAndlers){
      window.tcHAndlers={};
    }
    if(!window.tcHAndlers.usedImages){
      window.tcHAndlers.usedImages=[];
    }
    window.tcHAndlers.usedImages.push("#{f.object.web_image_url}");
